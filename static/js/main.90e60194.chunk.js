(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{16:function(e,t,n){},23:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var i=n(5),c=n(17),s=n.n(c),o=n(18),a=n(9),l=n(7),d=(n(23),n(16),n(15)),r=(n(24),n(32),d.a.initializeApp({apiKey:"AIzaSyAg1Ru2Z9t_YGotgrYksHE2K3Oy04dLBqk",authDomain:"notes-56c5c.firebaseapp.com",projectId:"notes-56c5c",storageBucket:"notes-56c5c.appspot.com",messagingSenderId:"736533287725",appId:"1:736533287725:web:0cac0d65cbb7277a8db9a4"}).firestore()),u=d.a.auth(),m=n(1);var j=function(e){var t=Object(i.useState)({title:"",description:"",date:""}),n=Object(a.a)(t,2),c=n[0],s=n[1],o=function(){document.getElementById(e.id).childNodes[0].style.display="block",document.getElementById(e.id).childNodes[1].style.display="block",document.getElementById(e.id).childNodes[3].style.display="none",document.getElementById(e.id).childNodes[4].style.display="none",document.getElementById(e.id).childNodes[5].style.display="none",document.getElementById(e.id).childNodes[6].style.display="none",document.getElementById(e.id).childNodes[7].style.display="block",document.getElementById(e.id).childNodes[8].style.display="block"};return Object(m.jsxs)("div",{className:"note",id:e.id,children:[Object(m.jsx)("h1",{className:"note-title",children:e.title}),Object(m.jsx)("p",{className:"note-description",children:e.description}),Object(m.jsx)("p",{className:"note-date",children:e.date}),Object(m.jsx)("div",{className:"add-note-title original ",children:Object(m.jsx)("input",{type:"text",placeholder:"Title",value:c.title,onChange:function(e){s(Object(l.a)(Object(l.a)({},c),{},{title:e.target.value}))},required:!0})}),Object(m.jsx)("div",{className:"add-note-description original",children:Object(m.jsx)("textarea",{name:"add-note-description",id:"add-note-description",placeholder:"Description",value:c.description,onChange:function(e){s(Object(l.a)(Object(l.a)({},c),{},{description:e.target.value}))},cols:"30",rows:"10"})}),Object(m.jsx)("button",{className:"note-cancel-update link none",children:Object(m.jsx)("i",{className:"fas fa-times"})}),Object(m.jsx)("button",{className:"note-do-update link none",children:Object(m.jsx)("i",{className:"fas fa-check"})}),Object(m.jsx)("button",{className:"note-update link",onClick:function(t){document.getElementById(e.id).childNodes[0].style.display="none",document.getElementById(e.id).childNodes[1].style.display="none",document.getElementById(e.id).childNodes[3].style.display="flex",document.getElementById(e.id).childNodes[4].style.display="flex",document.getElementById(e.id).childNodes[5].style.display="block",document.getElementById(e.id).childNodes[6].style.display="block",document.getElementById(e.id).childNodes[7].style.display="none",document.getElementById(e.id).childNodes[8].style.display="none";var n=document.getElementById(e.id),i=n.childNodes[0].innerText,c=n.childNodes[1].innerText,a=(new Date).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric"});s({title:i,description:c,date:a}),n.childNodes[5].addEventListener("click",(function(){o()})),n.childNodes[6].addEventListener("click",(function(){n.childNodes[0].innerText=n.childNodes[3].firstChild.value,n.childNodes[1].innerText=n.childNodes[4].firstChild.value,n.childNodes[2].innerText=a,o(),u.onAuthStateChanged((function(t){t&&r.collection(t.email).where("id","==",e.id).get().then((function(e){e.docs[0].ref.update({title:n.childNodes[3].firstChild.value,description:n.childNodes[4].firstChild.value,date:a})})).catch((function(e){return console.log(e.message)}))}))}))},children:Object(m.jsx)("i",{className:"fas fa-pen-fancy"})}),Object(m.jsx)("button",{className:"note-delete link",onClick:function(){e.deleteNote(e.id)},children:Object(m.jsx)("i",{className:"far fa-trash-alt"})})]})};var h=function(e){var t=(new Date).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric"}),n=Object(i.useState)({title:"",description:"",date:t,id:""}),c=Object(a.a)(n,2),s=c[0],o=c[1];return Object(m.jsxs)("div",{className:"note add-note",children:[Object(m.jsx)("div",{className:"add-note-title",children:Object(m.jsx)("input",{type:"text",id:"add-note-title",placeholder:"Title",value:s.title,onChange:function(e){o(Object(l.a)(Object(l.a)({},s),{},{title:e.target.value}))},required:!0})}),Object(m.jsx)("div",{className:"add-note-description",children:Object(m.jsx)("textarea",{name:"add-note-description",id:"add-note-description",placeholder:"Description",value:s.description,onChange:function(e){o(Object(l.a)(Object(l.a)({},s),{},{description:e.target.value}))},cols:"30",rows:"10"})}),Object(m.jsx)("p",{className:"note-date",children:t}),Object(m.jsx)("button",{className:"note-delete add-note-delete link",onClick:function(){if(""!==s.title&&""!==s.description){var n=s;n.id=(new Date).toLocaleDateString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"}),e.addNote(n),o({title:"",description:"",date:t,id:""})}else alert("You need to complete both entries")},children:Object(m.jsx)("i",{className:"fas fa-plus"})})]})};n(28),n(29);var b=function(){Object(i.useEffect)((function(){var e=document.querySelectorAll(".linkaso"),t=document.getElementById("cursor");e.forEach((function(e){e.addEventListener("mouseover",(function(){t.classList.add("cursor-on-link")})),e.addEventListener("mouseout",(function(){t.classList.remove("cursor-on-link")}))}))}),[]);var e=Object(i.useState)({email:"",password:""}),t=Object(a.a)(e,2),n=t[0],c=t[1],s=Object(i.useState)(!1),o=Object(a.a)(s,2),d=o[0],r=o[1],j=function(e){c(Object(l.a)(Object(l.a)({},n),{},{email:e.target.value}))},h=function(){document.querySelector(".overlay").style.opacity="0",setTimeout((function(){document.querySelector(".overlay").style.display="none"}),100)};return d?Object(m.jsxs)("div",{className:"overlay",children:[Object(m.jsx)("div",{className:"overlay-back linkaso",onClick:h,children:Object(m.jsx)("i",{className:"fas fa-times"})}),Object(m.jsx)("div",{className:"login",children:Object(m.jsxs)("form",{children:[Object(m.jsx)("div",{className:"linkaso back",children:Object(m.jsx)("i",{className:"fas fa-chevron-circle-left recovery-back",onClick:function(){r(!1)}})}),Object(m.jsx)("div",{className:"login-inputs",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(m.jsx)("input",{type:"email",id:"email",value:n.email,onChange:j,required:!0})]})}),Object(m.jsx)("div",{className:"login-sign-in",children:Object(m.jsx)("button",{className:"linkaso",onClick:function(e){e.preventDefault();var t=document.querySelector("#email").value;console.log(t),u.sendPasswordResetEmail(t).then((function(){return alert("Recovery mail sent")})).catch((function(e){return alert(e.message)}))},children:"Send recovery mail"})})]})})]}):Object(m.jsxs)("div",{className:"overlay",children:[Object(m.jsx)("div",{className:"overlay-back linkaso",onClick:h,children:Object(m.jsx)("i",{className:"fas fa-times"})}),Object(m.jsx)("div",{className:"login",children:Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{className:"login-inputs",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(m.jsx)("input",{type:"email",id:"email",value:n.email,onChange:j,required:!0})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(m.jsx)("input",{type:"password",id:"password",value:n.password,onChange:function(e){c(Object(l.a)(Object(l.a)({},n),{},{password:e.target.value}))},required:!0})]})]}),Object(m.jsxs)("div",{className:"login-button",children:[Object(m.jsx)("button",{type:"submit",className:"linkaso",onClick:function(e){e.preventDefault(),u.signInWithEmailAndPassword(n.email,n.password).then((function(e){h()})).catch((function(e){alert(e.message)}))},children:"Login"}),Object(m.jsx)("button",{className:"recovery linkaso",onClick:function(){r(!0)},children:"I forgot my password :c"})]}),Object(m.jsx)("div",{className:"login-sign-in linkaso",children:Object(m.jsx)("button",{onClick:function(e){e.preventDefault(),u.createUserWithEmailAndPassword(n.email,n.password).then((function(e){e&&h()})).catch((function(e){alert(e.message)}))},children:"Sign in"})})]})})]})},f=n.p+"static/media/Loading.689a2632.gif";var p=function(){var e=Object(i.useState)(!0),t=Object(a.a)(e,2),n=t[0],c=t[1],s=Object(i.useState)(),l=Object(a.a)(s,2),d=l[0],p=l[1];Object(i.useEffect)((function(){u.onAuthStateChanged((function(e){p(e)}))}));var v=Object(i.useState)([]),O=Object(a.a)(v,2),g=O[0],y=O[1];Object(i.useEffect)((function(){u.onAuthStateChanged((function(e){e?x(e.email):c(!1)}))}),[d]);var x=function(e){r.collection(e).get().then((function(e){var t=[];e.docs.forEach((function(e){t.push(e.data())})),y(t),c(!1)})).catch((function(e){return alert(e.message)}))};Object(i.useEffect)((function(){setTimeout((function(){var e=document.querySelectorAll(".link"),t=document.getElementById("cursor");e.forEach((function(e){e.addEventListener("mouseover",(function(){t.classList.add("cursor-on-link")})),e.addEventListener("mouseout",(function(){t.classList.remove("cursor-on-link")}))}))}),200)}),[g]);var N=function(e){d&&r.collection(d.email).where("id","==",e).get().then((function(e){e.docs[0].ref.delete()})).catch((function(e){return console.log(e.message)})),document.getElementById(e).style.display="none"};return n?Object(m.jsx)("div",{className:"loading",children:Object(m.jsx)("img",{src:f,alt:"Loading"})}):Object(m.jsxs)("div",{className:"home",children:[d?Object(m.jsxs)("div",{className:"home-login logged",children:[Object(m.jsxs)("div",{children:["Hi,",Object(m.jsx)("small",{className:"user-name",children:null===d||void 0===d?void 0:d.email.substr(0,d.email.indexOf("@"))})]}),Object(m.jsx)("button",{onClick:function(){d&&window.confirm("Are you sure you want to log out?")&&(u.signOut(),y([]))},className:"log-out link",children:"Log out"})]}):Object(m.jsx)("button",{className:"home-login link",onClick:function(){document.querySelector(".overlay").style.display="block",setTimeout((function(){document.querySelector(".overlay").style.opacity="1"}),100)},children:"Log In"}),Object(m.jsx)("h1",{children:"Notes"}),Object(m.jsxs)("div",{className:"notes-list",children:[null===g||void 0===g?void 0:g.map((function(e,t){return Object(m.jsx)(j,{title:e.title,description:e.description,id:e.id,date:e.date,deleteNote:N},t)})),Object(m.jsx)(h,{addNote:function(e){y([].concat(Object(o.a)(g),[e])),d&&(console.log(e),r.collection(d.email).doc().set(e).then((function(e){return console.log("Note added")})).catch((function(e){return alert(e.message)})))}}),Object(m.jsx)(b,{})]})]})};n(30);var v=function(){var e=matchMedia("(hover: none)").matches;return window.addEventListener("resize",(function(){e=matchMedia("(hover: none)").matches})),window.onmousemove=function(t){if(!e){var n=document.getElementById("cursor"),i=t.clientX,c=t.clientY;n.style.left=i-10+"px",n.style.top=c-10+"px"}},Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("div",{id:"cursor"}),Object(m.jsx)(p,{})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),s(e),o(e)}))};s.a.render(Object(m.jsx)(v,{}),document.getElementById("root")),O()}},[[31,1,2]]]);
//# sourceMappingURL=main.90e60194.chunk.js.map